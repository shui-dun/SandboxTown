# SandboxTown

沙盒小镇，基于 Vue & Phaser.js & SpringBoot & WebSocket & MySQL & Redis & Sa-Token 的沙盒游戏

## 构建方法



## 功能介绍



## 待实现功能

### 账号系统

- 玩家需要注册账号（提供用户名和密码）和登录账号才能进行游戏
- 可以保持登录7天，也可以不记住密码
- 玩家作弊（例如瞬移）会被封号一段时间

### 地图系统

- 玩家可以选择地图
- 同一地图上应该能够同时容纳多个玩家
- 地图背景是石地以及一些交叉的小路
- 地图上存储了所有建筑以及各种物体的位置信息

### 时间系统

- 时间包含黎明、白天、黄昏、晚上
- 界面上要显示出当前时间段对应的图标，背景颜色也要随之变化，以告知用户当前时间
- 只有晚上会生成一些怪
- 黎明时怪开始迅速受伤死亡

### 建筑系统

- 建筑包含商店、农田、树、草地、池塘、工厂、铁矿等
- 玩家可以采集材料、建造建筑
- 建筑可以升级，提高产出和效率
- 商店可以进行买卖交易，但是卖出价格相比买入价格要低，玩家自己创建的商店，当发生交易时，自己会获得部分收益（金钱和经验值）
- 池塘可以捕鱼（需要手持鱼竿），需要花费一定时间，玩家创建的池塘，如果被别人捕鱼，自己也会获得部分收益（金钱和经验值）
- 铁矿可以挖铁（需要手持锄头），需要花费一定时间，玩家创建的铁矿，如果被别人挖铁，自己也会获得部分收益（金钱和经验值）
- 树可以用来砍（手持锯子时）或摘苹果（手不持锯子时），需要花费一定时间，玩家种植的树，如果被别人使用，自己也会获得部分收益（金钱和经验值）
- 工厂可以使用各种物品合成各种商店买不到的东西，例如各种建筑或珍贵物品，玩家自己创建的工厂，当发生交易时，自己会获得部分收益（金钱和经验值）
- 这些建筑里面可获得的东西，量都是有限的，当然也会定期（例如黎明的瞬间）自动补充

### 聊天系统

- 玩家之间可以聊天
- 玩家也可以广播消息
- 聊天内容会被保留7天

### 战斗系统

- 玩家之间不能战斗
- 只有玩家与怪之间、怪与怪之间才会战斗
- 怪物分为近身攻击和远程攻击两种，它们会寻找一定范围内的玩家，并进行攻击。近身攻击的怪是蜘蛛（蜘蛛在遭到碰撞时会旋转）
- 玩家能够进行两种攻击，右键对手时会朝对方发射子弹，子弹只能攻击敌人，而会穿过其他玩家
- 玩家右键点击自己可以进行范围攻击
- 玩家对怪造成伤害，会增加自己的经验值
- 玩家杀死怪时，会增加自己的经验值和金钱

### NPC系统

- 玩家可以饲养宠物
- 狗会跟随你，在自己或主人遭到攻击时会反击
- 猫会不定期为你捕鱼，并且跑得很快，较难被攻击到
- 玩家养的牛可以宰杀，收获牛革和牛肉，牛革可以做皮质胸甲以及其他物品
- 牛会在草地附近移动，在草地附近才会繁殖，牛有寿命，牛也不能被怪物或其他玩家攻击
- 游戏中可以加入基于ChatGPT的AI虚拟人物，这些AI可以自由活动，也可以和玩家进行交互

### 属性系统

- 玩家（包括AI NPC）有金钱、经验值、等级、饱腹值、血量、攻击、防御、速度这些属性（怪和宠物有除了金钱外的其他属性）
- 经验值每到100就导致等级升一级
- 饱腹值最高为100，高于80时会定期回复血量
- 玩家可装备装备，有护甲、鞋子、左手、右手四种，装备不仅可以更新玩家的属性值，还可以有一些神奇的效果，例如剧毒手套可以使攻击对方时对方持续性的伤血
- 角色可以有特殊状态，例如中毒状态（持续性的伤血）、虚无状态（当晚受到攻击有30%概率miss）
- 玩家可以食用食物，以提高各种属性值，也能使玩家进入某种状态
- 角色的等级提升会提高各属性值，并解锁之前不能购买的商品或者是工厂里不能制作的东西
- 玩家可以左键点击其他玩家以查看其他玩家的属性

### 移动端适配

- 在PC端，点击左键显示一个东西的信息，点击右键攻击他，在地图上右键一个位置移动到那里
- 在移动端，点击一个东西攻击他，在地图上点击一个位置移动到那里，长按显示一个东西的信息

## 设计文档

参见[设计文档](doc/设计文档.md)

